{% extends 'base.html.twig' %}
{% block title %}Connexion · GoRun{% endblock %}
{% block body %}
<h1 class="text-2xl md:text-3xl font-bold mb-6">Connexion</h1>
<div class="bg-white rounded-2xl shadow p-6 max-w-lg mx-auto">
  {% if error %}
  <div class="mb-4 p-3 rounded-xl bg-red-50 text-red-700">
    {{ error.messageKey|trans(error.messageData, 'security') }}
  </div>
  {% endif %}

  <form method="post" class="space-y-4">
    <div class="block">
      <label for="inputEmail" class="block text-sm font-medium text-gray-700 mb-1">
        E-mail
      </label>
      <input 
      type="email"
      value="{{ last_username }}"
      name="_username"
      id="inputEmail"
      class="w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500"
      autocomplete="email"
      required
      autofocus
      placeholder="vous@exemple.com"
      >
    </div>
     <div class="block">
      <label for="inputPassword" class="block text-sm font-medium text-gray-700 mb-1">
        Mot de passe
      </label>
      <input 
        type="password" 
        name="_password"
        id="inputPassword" 
        class="w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500" 
        autocomplete="current-password" 
        required
        placeholder="••••••••"
      >
    </div>

     <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
     <div class="flex items-center">
      <input 
        type="checkbox" 
        name="_remember_me" 
        id="remember_me" 
        class="rounded text-green-600 focus:ring-green-500"
      >
      <label for="remember_me" class="ml-2 text-sm text-gray-600">
        Se souvenir de moi
      </label>
    </div>

     <button type="submit" class="w-full bg-green-600 text-white px-6 py-3 rounded-2xl font-semibold hover:bg-green-700">
      Se connecter
    </button>

    <div class="text-sm text-center space-y-2">
      <div>
        <a href="#" class="text-green-600 hover:underline">
          Mot de passe oublié ?
        </a>
      </div>
      <div>
        Pas encore de compte ? 
        <a href="{{ path('app_register') }}" class="text-green-600 hover:underline">
          S'inscrire
        </a>
      </div>
    </div>
  </form>
</div>
{% endblock %}
